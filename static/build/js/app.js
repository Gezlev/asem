!function(){"use strict";const e=(()=>{const e=e=>{document.querySelectorAll(".select").forEach((t=>{e&&e===t?e.classList.toggle("expanded"):t.classList.remove("expanded")}))},t=e=>{if(!e)return;let t=e.closest(".select"),i=t.querySelector(".select__header"),s=t.querySelector("input"),a=t.querySelector(".selected");a&&a.classList.remove("selected"),e.classList.add("selected"),i.innerHTML=e.innerHTML,s.value=e.dataset.value,s.dispatchEvent(new Event("change",{bubbles:!0}))};return window.addEventListener("click",(i=>{let s=i.target,a=s.closest(".select__header"),n=s.closest(".select__opt");a?e(a.parentNode):n?(t(n),e()):e()}),{passive:!0}),{init:e=>{let i=e.querySelector(".selected")||e.querySelector(".select__opt");t(i),e.style.width=`${16+e.querySelector(".select__opt").clientWidth}px`}}})();function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i(e){return e[e.length-1]}function s(e,...t){return t.forEach((t=>{e.includes(t)||e.push(t)})),e}function a(e,t){return e?e.split(t):[]}function n(e,t,i){return(void 0===t||e>=t)&&(void 0===i||e<=i)}function r(e,t,i){return e<t?t:e>i?i:e}function o(e,t,i={},s=0,a=""){a+=`<${Object.keys(i).reduce(((e,t)=>{let a=i[t];return"function"==typeof a&&(a=a(s)),`${e} ${t}="${a}"`}),e)}></${e}>`;const n=s+1;return n<t?o(e,t,i,n,a):a}function l(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function c(e){return new Date(e).setHours(0,0,0,0)}function d(){return(new Date).setHours(0,0,0,0)}function h(...e){switch(e.length){case 0:return d();case 1:return c(e[0])}const t=new Date(0);return t.setFullYear(...e),t.setHours(0,0,0,0)}function u(e,t){const i=new Date(e);return i.setDate(i.getDate()+t)}function p(e,t){const i=new Date(e),s=i.getMonth()+t;let a=s%12;a<0&&(a+=12);const n=i.setMonth(s);return i.getMonth()!==a?i.setDate(0):n}function f(e,t){const i=new Date(e),s=i.getMonth(),a=i.setFullYear(i.getFullYear()+t);return 1===s&&2===i.getMonth()?i.setDate(0):a}function g(e,t){return(e-t+7)%7}function m(e,t,i=0){const s=new Date(e).getDay();return u(e,g(t,i)-g(s,i))}function b(e,t){const i=new Date(e).getFullYear();return Math.floor(i/t)*t}const w=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,y=/[\s!-/:-@[-`{-~年月日]+/;let v={};const D={y:(e,t)=>new Date(e).setFullYear(parseInt(t,10)),m(e,t,i){const s=new Date(e);let a=parseInt(t,10)-1;if(isNaN(a)){if(!t)return NaN;const e=t.toLowerCase(),s=t=>t.toLowerCase().startsWith(e);if((a=i.monthsShort.findIndex(s))<0&&(a=i.months.findIndex(s)),a<0)return NaN}return s.setMonth(a),s.getMonth()!==function e(t){return t>-1?t%12:e(t+12)}(a)?s.setDate(0):s.getTime()},d:(e,t)=>new Date(e).setDate(parseInt(t,10))},k={d:e=>e.getDate(),dd:e=>S(e.getDate(),2),D:(e,t)=>t.daysShort[e.getDay()],DD:(e,t)=>t.days[e.getDay()],m:e=>e.getMonth()+1,mm:e=>S(e.getMonth()+1,2),M:(e,t)=>t.monthsShort[e.getMonth()],MM:(e,t)=>t.months[e.getMonth()],y:e=>e.getFullYear(),yy:e=>S(e.getFullYear(),2).slice(-2),yyyy:e=>S(e.getFullYear(),4)};function S(e,t){return e.toString().padStart(t,"0")}function x(e){if("string"!=typeof e)throw new Error("Invalid date format.");if(e in v)return v[e];const t=e.split(w),s=e.match(new RegExp(w,"g"));if(0===t.length||!s)throw new Error("Invalid date format.");const a=s.map((e=>k[e])),n=Object.keys(D).reduce(((e,t)=>(s.find((e=>"D"!==e[0]&&e[0].toLowerCase()===t))&&e.push(t),e)),[]);return v[e]={parser(e,t){const i=e.split(y).reduce(((e,t,i)=>{if(t.length>0&&s[i]){const a=s[i][0];"M"===a?e.m=t:"D"!==a&&(e[a]=t)}return e}),{});return n.reduce(((e,s)=>{const a=D[s](e,i[s],t);return isNaN(a)?e:a}),d())},formatter:(e,s)=>a.reduce(((i,a,n)=>i+`${t[n]}${a(e,s)}`),"")+i(t)}}function C(e,t,i){if(e instanceof Date||"number"==typeof e){const t=c(e);return isNaN(t)?void 0:t}if(e){if("today"===e)return d();if(t&&t.toValue){const s=t.toValue(e,t,i);return isNaN(s)?void 0:c(s)}return x(t).parser(e,i)}}function L(e,t,i){if(isNaN(e)||!e&&0!==e)return"";const s="number"==typeof e?new Date(e):e;return t.toDisplay?t.toDisplay(s,t,i):x(t).formatter(s,i)}const E=new WeakMap,{addEventListener:M,removeEventListener:F}=EventTarget.prototype;function O(e,t){let i=E.get(e);i||(i=[],E.set(e,i)),t.forEach((e=>{M.call(...e),i.push(e)}))}function _(e){let t=E.get(e);t&&(t.forEach((e=>{F.call(...e)})),E.delete(e))}if(!Event.prototype.composedPath){const e=(t,i=[])=>{let s;return i.push(t),t.parentNode?s=t.parentNode:t.host?s=t.host:t.defaultView&&(s=t.defaultView),s?e(s,i):i};Event.prototype.composedPath=function(){return e(this.target)}}function P(e,t){const i="function"==typeof t?t:e=>e.matches(t);return function e(t,i,s,a=0){const n=t[a];return i(n)?n:n!==s&&n.parentElement?e(t,i,s,a+1):void 0}(e.composedPath(),i,e.currentTarget)}const N={en:{days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П’ятниця","Субота"],daysShort:["Нед","Пон","Вів","Сер","Чет","П’ят","Суб"],daysMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthsShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],today:"Сьогодні",clear:"Clear",titleFormat:"MM y"}},A={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"»",orientation:"auto",pickLevel:0,prevArrow:"«",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},T=document.createRange();function W(e){return T.createContextualFragment(e)}function V(e){"none"!==e.style.display&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function B(e){"none"===e.style.display&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function H(e){e.firstChild&&(e.removeChild(e.firstChild),H(e))}const{language:I,format:q,weekStart:Y}=A;function R(e,t){return e.length<6&&t>=0&&t<7?s(e,t):e}function j(e){return(e+6)%7}function $(e,t,i,s){const a=C(e,t,i);return void 0!==a?a:s}function K(e,t,i=3){const s=parseInt(e,10);return s>=0&&s<=i?s:t}function G(e,i){const a=Object.assign({},e),n={},r=i.constructor.locales;let{format:o,language:l,locale:c,maxDate:d,maxView:u,minDate:p,pickLevel:f,startView:g,weekStart:m}=i.config||{};if(a.language){let e;if(a.language!==l&&(r[a.language]?e=a.language:void 0===r[e=a.language.split("-")[0]]&&(e=!1)),delete a.language,e){l=n.language=e;const t=c||r[I];c=Object.assign({format:q,weekStart:Y},r[I]),l!==I&&Object.assign(c,r[l]),n.locale=c,o===t.format&&(o=n.format=c.format),m===t.weekStart&&(m=n.weekStart=c.weekStart,n.weekEnd=j(c.weekStart))}}if(a.format){const e="function"==typeof a.format.toDisplay,t="function"==typeof a.format.toValue,i=w.test(a.format);(e&&t||i)&&(o=n.format=a.format),delete a.format}let b=p,y=d;if(void 0!==a.minDate&&(b=null===a.minDate?h(0,0,1):$(a.minDate,o,c,b),delete a.minDate),void 0!==a.maxDate&&(y=null===a.maxDate?void 0:$(a.maxDate,o,c,y),delete a.maxDate),y<b?(p=n.minDate=y,d=n.maxDate=b):(p!==b&&(p=n.minDate=b),d!==y&&(d=n.maxDate=y)),a.datesDisabled&&(n.datesDisabled=a.datesDisabled.reduce(((e,t)=>{const i=C(t,o,c);return void 0!==i?s(e,i):e}),[]),delete a.datesDisabled),void 0!==a.defaultViewDate){const e=C(a.defaultViewDate,o,c);void 0!==e&&(n.defaultViewDate=e),delete a.defaultViewDate}if(void 0!==a.weekStart){const e=Number(a.weekStart)%7;isNaN(e)||(m=n.weekStart=e,n.weekEnd=j(e)),delete a.weekStart}if(a.daysOfWeekDisabled&&(n.daysOfWeekDisabled=a.daysOfWeekDisabled.reduce(R,[]),delete a.daysOfWeekDisabled),a.daysOfWeekHighlighted&&(n.daysOfWeekHighlighted=a.daysOfWeekHighlighted.reduce(R,[]),delete a.daysOfWeekHighlighted),void 0!==a.maxNumberOfDates){const e=parseInt(a.maxNumberOfDates,10);e>=0&&(n.maxNumberOfDates=e,n.multidate=1!==e),delete a.maxNumberOfDates}a.dateDelimiter&&(n.dateDelimiter=String(a.dateDelimiter),delete a.dateDelimiter);let v=f;void 0!==a.pickLevel&&(v=K(a.pickLevel,2),delete a.pickLevel),v!==f&&(f=n.pickLevel=v);let D=u;void 0!==a.maxView&&(D=K(a.maxView,u),delete a.maxView),(D=f>D?f:D)!==u&&(u=n.maxView=D);let k=g;if(void 0!==a.startView&&(k=K(a.startView,k),delete a.startView),k<f?k=f:k>u&&(k=u),k!==g&&(n.startView=k),a.prevArrow){const e=W(a.prevArrow);e.childNodes.length>0&&(n.prevArrow=e.childNodes),delete a.prevArrow}if(a.nextArrow){const e=W(a.nextArrow);e.childNodes.length>0&&(n.nextArrow=e.childNodes),delete a.nextArrow}if(void 0!==a.disableTouchKeyboard&&(n.disableTouchKeyboard="ontouchstart"in document&&!!a.disableTouchKeyboard,delete a.disableTouchKeyboard),a.orientation){const e=a.orientation.toLowerCase().split(/\s+/g);n.orientation={x:e.find((e=>"left"===e||"right"===e))||"auto",y:e.find((e=>"top"===e||"bottom"===e))||"auto"},delete a.orientation}if(void 0!==a.todayBtnMode){switch(a.todayBtnMode){case 0:case 1:n.todayBtnMode=a.todayBtnMode}delete a.todayBtnMode}return Object.keys(a).forEach((e=>{void 0!==a[e]&&t(A,e)&&(n[e]=a[e])})),n}const z=l('<div class="datepicker">\n  <div class="datepicker-picker">\n    <div class="datepicker-header">\n      <div class="datepicker-title"></div>\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% prev-btn"></button>\n        <button type="button" class="%buttonClass% view-switch"></button>\n        <button type="button" class="%buttonClass% next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% today-btn"></button>\n        <button type="button" class="%buttonClass% clear-btn"></button>\n      </div>\n    </div>\n  </div>\n</div>'),Q=l(`<div class="days">\n  <div class="days-of-week">${o("span",7,{class:"dow"})}</div>\n  <div class="datepicker-grid">${o("span",42)}</div>\n</div>`),U=l(`<div class="calendar-weeks">\n  <div class="days-of-week"><span class="dow"></span></div>\n  <div class="weeks">${o("span",6,{class:"week"})}</div>\n</div>`);class X{constructor(e,t){Object.assign(this,t,{picker:e,element:W('<div class="datepicker-view"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}init(e){void 0!==e.pickLevel&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}performBeforeHook(e,t,i){let a=this.beforeShow(new Date(i));switch(typeof a){case"boolean":a={enabled:a};break;case"string":a={classes:a}}if(a){if(!1===a.enabled&&(e.classList.add("disabled"),s(this.disabled,t)),a.classes){const i=a.classes.split(/\s+/);e.classList.add(...i),i.includes("disabled")&&s(this.disabled,t)}a.content&&function(e,t){H(e),t instanceof DocumentFragment?e.appendChild(t):"string"==typeof t?e.appendChild(W(t)):"function"==typeof t.forEach&&t.forEach((t=>{e.appendChild(t)}))}(e,a.content)}}}class J extends X{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,t=!0){if(t){const e=W(Q).firstChild;this.dow=e.firstChild,this.grid=e.lastChild,this.element.appendChild(e)}super.init(e)}setOptions(e){let i;if(t(e,"minDate")&&(this.minDate=e.minDate),t(e,"maxDate")&&(this.maxDate=e.maxDate),e.datesDisabled&&(this.datesDisabled=e.datesDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,i=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),void 0!==e.todayHighlight&&(this.todayHighlight=e.todayHighlight),void 0!==e.weekStart&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,i=!0),e.locale){const t=this.locale=e.locale;this.dayNames=t.daysMin,this.switchLabelFormat=t.titleFormat,i=!0}if(void 0!==e.beforeShowDay&&(this.beforeShow="function"==typeof e.beforeShowDay?e.beforeShowDay:void 0),void 0!==e.calendarWeeks)if(e.calendarWeeks&&!this.calendarWeeks){const e=W(U).firstChild;this.calendarWeeks={element:e,dow:e.firstChild,weeks:e.lastChild},this.element.insertBefore(e,this.element.firstChild)}else this.calendarWeeks&&!e.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);void 0!==e.showDaysOfWeek&&(e.showDaysOfWeek?(B(this.dow),this.calendarWeeks&&B(this.calendarWeeks.dow)):(V(this.dow),this.calendarWeeks&&V(this.calendarWeeks.dow))),i&&Array.from(this.dow.children).forEach(((e,t)=>{const i=(this.weekStart+t)%7;e.textContent=this.dayNames[i],e.className=this.daysOfWeekDisabled.includes(i)?"dow disabled":"dow"}))}updateFocus(){const e=new Date(this.picker.viewDate),t=e.getFullYear(),i=e.getMonth(),s=h(t,i,1),a=m(s,this.weekStart,this.weekStart);this.first=s,this.last=h(t,i+1,0),this.start=a,this.focused=this.picker.viewDate}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e,t&&(this.range=t.dates)}render(){this.today=this.todayHighlight?d():void 0,this.disabled=[...this.datesDisabled];const e=L(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(e),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){const e=m(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(((t,i)=>{t.textContent=function(e){const t=m(e,4,1),i=m(new Date(t).setMonth(0,4),4,1);return Math.round((t-i)/6048e5)+1}(u(e,7*i))}))}Array.from(this.grid.children).forEach(((e,t)=>{const i=e.classList,a=u(this.start,t),n=new Date(a),r=n.getDay();if(e.className=`datepicker-cell ${this.cellClass}`,e.dataset.date=a,e.textContent=n.getDate(),a<this.first?i.add("prev"):a>this.last&&i.add("next"),this.today===a&&i.add("today"),(a<this.minDate||a>this.maxDate||this.disabled.includes(a))&&i.add("disabled"),this.daysOfWeekDisabled.includes(r)&&(i.add("disabled"),s(this.disabled,a)),this.daysOfWeekHighlighted.includes(r)&&i.add("highlighted"),this.range){const[e,t]=this.range;a>e&&a<t&&i.add("range"),a===e&&i.add("range-start"),a===t&&i.add("range-end")}this.selected.includes(a)&&i.add("selected"),a===this.focused&&i.add("focused"),this.beforeShow&&this.performBeforeHook(e,a,a)}))}refresh(){const[e,t]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((e=>{e.classList.remove("range","range-start","range-end","selected","focused")})),Array.from(this.grid.children).forEach((i=>{const s=Number(i.dataset.date),a=i.classList;s>e&&s<t&&a.add("range"),s===e&&a.add("range-start"),s===t&&a.add("range-end"),this.selected.includes(s)&&a.add("selected"),s===this.focused&&a.add("focused")}))}refreshFocus(){const e=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach((e=>{e.classList.remove("focused")})),this.grid.children[e].classList.add("focused")}}function Z(e,t){if(!e||!e[0]||!e[1])return;const[[i,s],[a,n]]=e;return i>t||a<t?void 0:[i===t?s:-1,a===t?n:12]}class ee extends X{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,t=!0){t&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(W(o("span",12,{"data-month":e=>e})))),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),t(e,"minDate"))if(void 0===e.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{const t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}if(t(e,"maxDate"))if(void 0===e.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{const t=new Date(e.maxDate);this.maxYear=t.getFullYear(),this.maxMonth=t.getMonth(),this.maxDate=h(this.maxYear,this.maxMonth+1,0)}void 0!==e.beforeShowMonth&&(this.beforeShow="function"==typeof e.beforeShowMonth?e.beforeShowMonth:void 0)}updateFocus(){const e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce(((e,t)=>{const i=new Date(t),a=i.getFullYear(),n=i.getMonth();return void 0===e[a]?e[a]=[n]:s(e[a],n),e}),{}),t&&t.dates&&(this.range=t.dates.map((e=>{const t=new Date(e);return isNaN(t)?void 0:[t.getFullYear(),t.getMonth()]})))}render(){this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);const e=this.selected[this.year]||[],t=this.year<this.minYear||this.year>this.maxYear,i=this.year===this.minYear,s=this.year===this.maxYear,a=Z(this.range,this.year);Array.from(this.grid.children).forEach(((n,r)=>{const o=n.classList,l=h(this.year,r,1);if(n.className=`datepicker-cell ${this.cellClass}`,this.isMinView&&(n.dataset.date=l),n.textContent=this.monthNames[r],(t||i&&r<this.minMonth||s&&r>this.maxMonth)&&o.add("disabled"),a){const[e,t]=a;r>e&&r<t&&o.add("range"),r===e&&o.add("range-start"),r===t&&o.add("range-end")}e.includes(r)&&o.add("selected"),r===this.focused&&o.add("focused"),this.beforeShow&&this.performBeforeHook(n,r,l)}))}refresh(){const e=this.selected[this.year]||[],[t,i]=Z(this.range,this.year)||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((e=>{e.classList.remove("range","range-start","range-end","selected","focused")})),Array.from(this.grid.children).forEach(((s,a)=>{const n=s.classList;a>t&&a<i&&n.add("range"),a===t&&n.add("range-start"),a===i&&n.add("range-end"),e.includes(a)&&n.add("selected"),a===this.focused&&n.add("focused")}))}refreshFocus(){this.grid.querySelectorAll(".focused").forEach((e=>{e.classList.remove("focused")})),this.grid.children[this.focused].classList.add("focused")}}class te extends X{constructor(e,t){super(e,t)}init(e,t=!0){var i;t&&(this.navStep=10*this.step,this.beforeShowOption=`beforeShow${i=this.cellClass,[...i].reduce(((e,t,i)=>e+(i?t:t.toUpperCase())),"")}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(W(o("span",12)))),super.init(e)}setOptions(e){if(t(e,"minDate")&&(void 0===e.minDate?this.minYear=this.minDate=void 0:(this.minYear=b(e.minDate,this.step),this.minDate=h(this.minYear,0,1))),t(e,"maxDate")&&(void 0===e.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=b(e.maxDate,this.step),this.maxDate=h(this.maxYear,11,31))),void 0!==e[this.beforeShowOption]){const t=e[this.beforeShowOption];this.beforeShow="function"==typeof t?t:void 0}}updateFocus(){const e=new Date(this.picker.viewDate),t=b(e,this.navStep),i=t+9*this.step;this.first=t,this.last=i,this.start=t-this.step,this.focused=b(e,this.step)}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce(((e,t)=>s(e,b(t,this.step))),[]),t&&t.dates&&(this.range=t.dates.map((e=>{if(void 0!==e)return b(e,this.step)})))}render(){this.disabled=[],this.picker.setViewSwitchLabel(`${this.first}-${this.last}`),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(((e,t)=>{const i=e.classList,s=this.start+t*this.step,a=h(s,0,1);if(e.className=`datepicker-cell ${this.cellClass}`,this.isMinView&&(e.dataset.date=a),e.textContent=e.dataset.year=s,0===t?i.add("prev"):11===t&&i.add("next"),(s<this.minYear||s>this.maxYear)&&i.add("disabled"),this.range){const[e,t]=this.range;s>e&&s<t&&i.add("range"),s===e&&i.add("range-start"),s===t&&i.add("range-end")}this.selected.includes(s)&&i.add("selected"),s===this.focused&&i.add("focused"),this.beforeShow&&this.performBeforeHook(e,s,a)}))}refresh(){const[e,t]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((e=>{e.classList.remove("range","range-start","range-end","selected","focused")})),Array.from(this.grid.children).forEach((i=>{const s=Number(i.textContent),a=i.classList;s>e&&s<t&&a.add("range"),s===e&&a.add("range-start"),s===t&&a.add("range-end"),this.selected.includes(s)&&a.add("selected"),s===this.focused&&a.add("focused")}))}refreshFocus(){const e=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach((e=>{e.classList.remove("focused")})),this.grid.children[e].classList.add("focused")}}function ie(e,t){const i={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(t,{detail:i}))}function se(e,t){const{minDate:i,maxDate:s}=e.config,{currentView:a,viewDate:n}=e.picker;let o;switch(a.id){case 0:o=p(n,t);break;case 1:o=f(n,t);break;default:o=f(n,t*a.navStep)}o=r(o,i,s),e.picker.changeFocus(o).render()}function ae(e){const t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function ne(e){e.config.updateOnBlur?e.update({autohide:!0}):(e.refresh("input"),e.hide())}function re(e,t){const i=e.picker,s=new Date(i.viewDate),a=i.currentView.id,n=1===a?p(s,t-s.getMonth()):f(s,t-s.getFullYear());i.changeFocus(n).changeView(a-1).render()}function oe(e,i){if(void 0!==i.title&&(i.title?(e.controls.title.textContent=i.title,B(e.controls.title)):(e.controls.title.textContent="",V(e.controls.title))),i.prevArrow){const t=e.controls.prevBtn;H(t),i.prevArrow.forEach((e=>{t.appendChild(e.cloneNode(!0))}))}if(i.nextArrow){const t=e.controls.nextBtn;H(t),i.nextArrow.forEach((e=>{t.appendChild(e.cloneNode(!0))}))}if(i.locale&&(e.controls.todayBtn.textContent=i.locale.today,e.controls.clearBtn.textContent=i.locale.clear),void 0!==i.todayBtn&&(i.todayBtn?B(e.controls.todayBtn):V(e.controls.todayBtn)),t(i,"minDate")||t(i,"maxDate")){const{minDate:t,maxDate:i}=e.datepicker.config;e.controls.todayBtn.disabled=!n(d(),t,i)}void 0!==i.clearBtn&&(i.clearBtn?B(e.controls.clearBtn):V(e.controls.clearBtn))}function le(e){const{dates:t,config:s}=e;return r(t.length>0?i(t):s.defaultViewDate,s.minDate,s.maxDate)}function ce(e,t){const i=new Date(e.viewDate),s=new Date(t),{id:a,year:n,first:r,last:o}=e.currentView,l=s.getFullYear();switch(e.viewDate=t,l!==i.getFullYear()&&ie(e.datepicker,"changeYear"),s.getMonth()!==i.getMonth()&&ie(e.datepicker,"changeMonth"),a){case 0:return t<r||t>o;case 1:return l!==n;default:return l<r||l>o}}function de(e){return window.getComputedStyle(e).direction}class he{constructor(e){this.datepicker=e;const t=z.replace(/%buttonClass%/g,e.config.buttonClass),i=this.element=W(t).firstChild,[s,a,n]=i.firstChild.children,r=s.firstElementChild,[o,l,c]=s.lastElementChild.children,[h,u]=n.firstChild.children,p={title:r,prevBtn:o,viewSwitch:l,nextBtn:c,todayBtn:h,clearBtn:u};this.main=a,this.controls=p;const f=e.inline?"inline":"dropdown";i.classList.add(`datepicker-${f}`),oe(this,e.config),this.viewDate=le(e),O(e,[[i,"click",function(e){e.inline||e.config.disableTouchKeyboard||e.inputField.focus()}.bind(null,e),{capture:!0}],[a,"click",function(e,t){const i=P(t,".datepicker-cell");if(!i||i.classList.contains("disabled"))return;const{id:s,isMinView:a}=e.picker.currentView;a?e.setDate(Number(i.dataset.date)):re(e,Number(1===s?i.dataset.month:i.dataset.year))}.bind(null,e)],[p.viewSwitch,"click",function(e){ae(e)}.bind(null,e)],[p.prevBtn,"click",function(e){se(e,-1)}.bind(null,e)],[p.nextBtn,"click",function(e){se(e,1)}.bind(null,e)],[p.todayBtn,"click",function(e){const t=e.picker,i=d();if(1===e.config.todayBtnMode){if(e.config.autohide)return void e.setDate(i);e.setDate(i,{render:!1}),t.update()}t.viewDate!==i&&t.changeFocus(i),t.changeView(0).render()}.bind(null,e)],[p.clearBtn,"click",function(e){e.setDate({clear:!0})}.bind(null,e)]]),this.views=[new J(this),new ee(this),new te(this,{id:2,name:"years",cellClass:"year",step:1}),new te(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[e.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),e.config.container.appendChild(this.element)}setOptions(e){oe(this,e),this.views.forEach((t=>{t.init(e,!1)})),this.currentView.render()}detach(){this.datepicker.config.container.removeChild(this.element)}show(){if(this.active)return;this.element.classList.add("active"),this.active=!0;const e=this.datepicker;if(!e.inline){const t=de(e.inputField);t!==de(e.config.container)?this.element.dir=t:this.element.dir&&this.element.removeAttribute("dir"),this.place(),e.config.disableTouchKeyboard&&e.inputField.blur()}ie(e,"show")}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,ie(this.datepicker,"hide"))}place(){const{classList:e,style:t}=this.element,{config:i,inputField:s}=this.datepicker,a=i.container,{width:n,height:r}=this.element.getBoundingClientRect(),{left:o,top:l,width:c}=a.getBoundingClientRect(),{left:d,top:h,width:u,height:p}=s.getBoundingClientRect();let f,g,m,{x:b,y:w}=i.orientation;a===document.body?(f=window.scrollY,g=d+window.scrollX,m=h+f):(g=d-o,m=h-l+(f=a.scrollTop)),"auto"===b&&(g<0?(b="left",g=10):b=g+n>c||"rtl"===de(s)?"right":"left"),"right"===b&&(g-=n-u),"auto"===w&&(w=m-r<f?"bottom":"top"),"top"===w?m-=r:m+=p,e.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),e.add(`datepicker-orient-${w}`,`datepicker-orient-${b}`),t.top=m?`${m}px`:m,t.left=g?`${g}px`:g}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevBtnDisabled(e){this.controls.prevBtn.disabled=e}setNextBtnDisabled(e){this.controls.nextBtn.disabled=e}changeView(e){const t=this.currentView,i=this.views[e];return i.id!==t.id&&(this.currentView=i,this._renderMethod="render",ie(this.datepicker,"changeView"),this.main.replaceChild(i.element,t.element)),this}changeFocus(e){return this._renderMethod=ce(this,e)?"render":"refreshFocus",this.views.forEach((e=>{e.updateFocus()})),this}update(){const e=le(this.datepicker);return this._renderMethod=ce(this,e)?"render":"refresh",this.views.forEach((e=>{e.updateFocus(),e.updateSelection()})),this}render(e=!0){const t=e&&this._renderMethod||"render";delete this._renderMethod,this.currentView[t]()}}function ue(e,t,i,s){const a=e.picker,r=a.currentView,o=r.step||1;let l,c,d=a.viewDate;switch(r.id){case 0:d=s?u(d,7*i):t.ctrlKey||t.metaKey?f(d,i):u(d,i),l=u,c=e=>r.disabled.includes(e);break;case 1:d=p(d,s?4*i:i),l=p,c=e=>{const t=new Date(e),{year:i,disabled:s}=r;return t.getFullYear()===i&&s.includes(t.getMonth())};break;default:d=f(d,i*(s?4:1)*o),l=f,c=e=>r.disabled.includes(b(e,o))}void 0!==(d=function e(t,i,s,a,r,o){if(n(t,r,o))return a(t)?e(i(t,s),i,s,a,r,o):t}(d,l,i<0?-o:o,c,r.minDate,r.maxDate))&&a.changeFocus(d).render()}function pe(e,t){return e.map((e=>L(e,t.format,t.locale))).join(t.dateDelimiter)}function fe(e,t,i=!1){const{config:s,dates:a,rangepicker:r}=e;if(0===t.length)return i?[]:void 0;const o=r&&e===r.datepickers[1];let l=t.reduce(((e,t)=>{let i=C(t,s.format,s.locale);if(void 0===i)return e;if(s.pickLevel>0){const e=new Date(i);i=1===s.pickLevel?o?e.setMonth(e.getMonth()+1,0):e.setDate(1):o?e.setFullYear(e.getFullYear()+1,0,0):e.setMonth(0,1)}return!n(i,s.minDate,s.maxDate)||e.includes(i)||s.datesDisabled.includes(i)||s.daysOfWeekDisabled.includes(new Date(i).getDay())||e.push(i),e}),[]);return 0!==l.length?(s.multidate&&!i&&(l=l.reduce(((e,t)=>(a.includes(t)||e.push(t),e)),a.filter((e=>!l.includes(e))))),s.maxNumberOfDates&&l.length>s.maxNumberOfDates?l.slice(-1*s.maxNumberOfDates):l):void 0}function ge(e,t=3,i=!0){const{config:s,picker:a,inputField:n}=e;if(2&t){const e=a.active?s.pickLevel:s.startView;a.update().changeView(e).render(i)}1&t&&n&&(n.value=pe(e.dates,s))}function me(e,t,i){let{clear:s,render:a,autohide:n}=i;void 0===a&&(a=!0),a?void 0===n&&(n=e.config.autohide):n=!1;const r=fe(e,t,s);r&&(r.toString()!==e.dates.toString()?(e.dates=r,ge(e,a?3:1),ie(e,"changeDate")):ge(e,1),n&&e.hide())}class be{constructor(e,t={},i){e.datepicker=this,this.element=e;const s=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:document.body,defaultViewDate:d(),maxDate:void 0,minDate:void 0},G(A,this));this._options=t,Object.assign(s,G(t,this));const n=this.inline="INPUT"!==e.tagName;let r,o;if(n)s.container=e,o=a(e.dataset.date,s.dateDelimiter),delete e.dataset.date;else{const i=t.container?document.querySelector(t.container):null;i&&(s.container=i),(r=this.inputField=e).classList.add("datepicker-input"),o=a(r.value,s.dateDelimiter)}if(i){const e=i.inputs.indexOf(r),t=i.datepickers;if(e<0||e>1||!Array.isArray(t))throw Error("Invalid rangepicker object.");t[e]=this,Object.defineProperty(this,"rangepicker",{get:()=>i})}this.dates=[];const l=fe(this,o);l&&l.length>0&&(this.dates=l),r&&(r.value=pe(this.dates,s));const c=this.picker=new he(this);if(n)this.show();else{const e=function(e,t){const i=e.element;if(i!==document.activeElement)return;const s=e.picker.element;P(t,(e=>e===i||e===s))||ne(e)}.bind(null,this);O(this,[[r,"keydown",function(e,t){if("Tab"===t.key)return void ne(e);const i=e.picker,{id:s,isMinView:a}=i.currentView;if(i.active)if(e.editMode)switch(t.key){case"Escape":i.hide();break;case"Enter":e.exitEditMode({update:!0,autohide:e.config.autohide});break;default:return}else switch(t.key){case"Escape":i.hide();break;case"ArrowLeft":if(t.ctrlKey||t.metaKey)se(e,-1);else{if(t.shiftKey)return void e.enterEditMode();ue(e,t,-1,!1)}break;case"ArrowRight":if(t.ctrlKey||t.metaKey)se(e,1);else{if(t.shiftKey)return void e.enterEditMode();ue(e,t,1,!1)}break;case"ArrowUp":if(t.ctrlKey||t.metaKey)ae(e);else{if(t.shiftKey)return void e.enterEditMode();ue(e,t,-1,!0)}break;case"ArrowDown":if(t.shiftKey&&!t.ctrlKey&&!t.metaKey)return void e.enterEditMode();ue(e,t,1,!0);break;case"Enter":a?e.setDate(i.viewDate):i.changeView(s-1).render();break;case"Backspace":case"Delete":return void e.enterEditMode();default:return void(1!==t.key.length||t.ctrlKey||t.metaKey||e.enterEditMode())}else switch(t.key){case"ArrowDown":case"Escape":i.show();break;case"Enter":e.update();break;default:return}t.preventDefault(),t.stopPropagation()}.bind(null,this)],[r,"focus",function(e){e.config.showOnFocus&&!e._showing&&e.show()}.bind(null,this)],[r,"mousedown",function(e,t){const i=t.target;(e.picker.active||e.config.showOnClick)&&(i._active=i===document.activeElement,i._clicking=setTimeout((()=>{delete i._active,delete i._clicking}),2e3))}.bind(null,this)],[r,"click",function(e,t){const i=t.target;i._clicking&&(clearTimeout(i._clicking),delete i._clicking,i._active&&e.enterEditMode(),delete i._active,e.config.showOnClick&&e.show())}.bind(null,this)],[r,"paste",function(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}.bind(null,this)],[document,"mousedown",e],[document,"touchstart",e],[window,"resize",c.place.bind(c)]])}}static formatDate(e,t,i){return L(e,t,i&&N[i]||N.en)}static parseDate(e,t,i){return C(e,t,i&&N[i]||N.en)}static get locales(){return N}get active(){return!(!this.picker||!this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){const t=this.picker,i=G(e,this);Object.assign(this._options,e),Object.assign(this.config,i),t.setOptions(i),ge(this,3)}show(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}hide(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}destroy(){return this.hide(),_(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}getDate(e){const t=e?t=>L(t,e,this.config.locale):e=>new Date(e);return this.config.multidate?this.dates.map(t):this.dates.length>0?t(this.dates[0]):void 0}setDate(...e){const t=[...e],s={},a=i(e);"object"!=typeof a||Array.isArray(a)||a instanceof Date||!a||Object.assign(s,t.pop()),me(this,Array.isArray(t[0])?t[0]:t,s)}update(e){if(this.inline)return;const t={clear:!0,autohide:!(!e||!e.autohide)};me(this,a(this.inputField.value,this.config.dateDelimiter),t)}refresh(e,t=!1){e&&"string"!=typeof e&&(t=e,e=void 0),ge(this,"picker"===e?2:"input"===e?1:3,!t)}enterEditMode(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit"))}exitEditMode(e){if(this.inline||!this.editMode)return;const t=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit"),t.update&&this.update(t)}}function we(e){const t=Object.assign({},e);return delete t.inputs,delete t.allowOneSidedRange,delete t.maxNumberOfDates,t}function ye(e,t,i,s){O(e,[[i,"changeDate",t]]),new be(i,s,e)}function ve(e,t){if(e._updating)return;e._updating=!0;const i=t.target;if(void 0===i.datepicker)return;const s=e.datepickers,a={render:!1},n=e.inputs.indexOf(i),r=0===n?1:0,o=s[n].dates[0],l=s[r].dates[0];void 0!==o&&void 0!==l?0===n&&o>l?(s[0].setDate(l,a),s[1].setDate(o,a)):1===n&&o<l&&(s[0].setDate(o,a),s[1].setDate(l,a)):e.allowOneSidedRange||void 0===o&&void 0===l||(a.clear=!0,s[r].setDate(s[n].dates,a)),s[0].picker.update().render(),s[1].picker.update().render(),delete e._updating}class De{constructor(e,t={}){const i=Array.isArray(t.inputs)?t.inputs:Array.from(e.querySelectorAll("input"));if(i.length<2)return;e.rangepicker=this,this.element=e,this.inputs=i.slice(0,2),this.allowOneSidedRange=!!t.allowOneSidedRange;const s=ve.bind(null,this),a=we(t),n=[];Object.defineProperty(this,"datepickers",{get:()=>n}),ye(this,s,this.inputs[0],a),ye(this,s,this.inputs[1],a),Object.freeze(n),n[0].dates.length>0?ve(this,{target:this.inputs[0]}):n[1].dates.length>0&&ve(this,{target:this.inputs[1]})}get dates(){return 2===this.datepickers.length?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}setOptions(e){this.allowOneSidedRange=!!e.allowOneSidedRange;const t=we(e);this.datepickers[0].setOptions(t),this.datepickers[1].setOptions(t)}destroy(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),_(this),delete this.element.rangepicker}getDates(e){const t=e?t=>L(t,e,this.datepickers[0].config.locale):e=>new Date(e);return this.dates.map((e=>void 0===e?e:t(e)))}setDates(e,t){const[i,s]=this.datepickers,a=this.dates;this._updating=!0,i.setDate(e),s.setDate(t),delete this._updating,s.dates[0]!==a[1]?ve(this,{target:this.inputs[1]}):i.dates[0]!==a[0]&&ve(this,{target:this.inputs[0]})}}
/*!
     * JSTable
     */const ke={perPage:5,perPageSelect:[5,10,15,20,25],sortable:!0,searchable:!0,nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",ellipsisText:"&hellip;",truncatePager:!0,pagerDelta:2,classes:{top:"dt-top",info:"dt-info",input:"dt-input",table:"dt-table",bottom:"dt-bottom",search:"dt-search",sorter:"dt-sorter",wrapper:"dt-wrapper",dropdown:"dt-dropdown",ellipsis:"dt-ellipsis",selector:"dt-selector",container:"dt-container",pagination:"dt-pagination",loading:"dt-loading",message:"dt-message"},labels:{placeholder:"Пошук...",perPage:"{select} entries per page",noRows:"No entries found",info:"з {start} по {end} із {rows} записів(a)",loading:"Завантажується...",infoFiltered:"Showing {start} to {end} of {rows} entries (filtered from {rowsTotal} entries)"},layout:{top:"{select}{search}",bottom:"{info}{pager}"},serverSide:!1,deferLoading:null,ajax:null,ajaxParams:{}};class Se{constructor(e,t={}){let i=e;"string"==typeof e&&(i=document.querySelector(e)),null!==i&&(this.config=Object.assign({},ke,t),this.table=new xe(i),this.currentPage=1,this.columnRenderers=[],this.columnsNotSearchable=[],this.searchQuery=null,this.sortColumn=null,this.sortDirection="asc",this.isSearching=!1,this.filteredDataCount=null,this.pager=new Ee(this),this._build(),this._buildColumns(),this.update(!this.config.serverSide),this._bindEvents(),this._emit("init"))}_build(){let e=this.config;this.wrapper=document.createElement("div"),this.wrapper.className=e.classes.wrapper;var t=["<div class='",e.classes.top,"'>",e.layout.top,"</div>","<div class='",e.classes.container,"'>","<div class='",e.classes.loading," hidden'>",e.labels.loading,"</div>","</div>","<div class='",e.classes.bottom,"'>",e.layout.bottom,"</div>"].join("");if(t=t.replace("{info}","<div class='"+e.classes.info+"'></div>"),e.perPageSelect){var i=["<div class='",e.classes.dropdown,"'>","<label>",e.labels.perPage,"</label>","</div>"].join(""),s=document.createElement("select");s.className=e.classes.selector,e.perPageSelect.forEach((function(t){var i=t===e.perPage,a=new Option(t,t,i,i);s.add(a)})),i=i.replace("{select}",s.outerHTML),t=t.replace(/\{select\}/g,i)}else t=t.replace(/\{select\}/g,"");if(e.searchable){var a=["<div class='",e.classes.search,"'>","<input class='",e.classes.input,"' placeholder='",e.labels.placeholder,"' type='text'>","</div>"].join("");t=t.replace(/\{search\}/g,a)}else t=t.replace(/\{search\}/g,"");this.table.element.classList.add(e.classes.table),t=t.replace("{pager}","<div class='"+e.classes.pagination+"'></div>"),this.wrapper.innerHTML=t,this.table.element.parentNode.replaceChild(this.wrapper,this.table.element),this.wrapper.querySelector("."+e.classes.container).appendChild(this.table.element),this._updatePagination(),this._updateInfo()}update(e=!0){var t=this;this.currentPage>this.pager.getPages()&&(this.currentPage=this.pager.getPages());let i=t.wrapper.querySelector(" ."+t.config.classes.loading);i.classList.remove("hidden"),this.table.header.getCells().forEach((function(e,i){let s=t.table.head.rows[0].cells[i];s.innerHTML=e.getElement().innerHTML,e.classes.length>0&&(s.className=e.classes.join(" "));for(let t in e.attributes)s.setAttribute(t,e.attributes[t]);s.setAttribute("data-sortable",e.isSortable)})),e?this.getPageData(this.currentPage).then((function(e){t.table.element.classList.remove("hidden"),t.table.body.innerHTML="",e.forEach((function(e){t.table.body.appendChild(e.getFormated(t.columnRenderers))})),i.classList.add("hidden")})).then((function(){t.getDataCount()<=0&&(t.wrapper.classList.remove("search-results"),t.setMessage(t.config.labels.noRows)),t._emit("update")})).then((function(){t._updatePagination(),t._updateInfo()})):(t.table.element.classList.remove("hidden"),t.table.body.innerHTML="",this.getDataCount()<=0&&(t.wrapper.classList.remove("search-results"),t.setMessage(t.config.labels.noRows)),this._getData().forEach((function(e){t.table.body.appendChild(e.getFormated(t.columnRenderers))})),i.classList.add("hidden"))}_updatePagination(){let e=this.wrapper.querySelector(" ."+this.config.classes.pagination);e.innerHTML="",e.appendChild(this.pager.render(this.currentPage))}_updateInfo(){let e=this.wrapper.querySelector(" ."+this.config.classes.info),t=this.isSearching?this.config.labels.infoFiltered:this.config.labels.info;if(e&&t.length){var i=t.replace("{start}",this.getDataCount()>0?this._getPageStartIndex()+1:0).replace("{end}",this._getPageEndIndex()+1).replace("{page}",this.currentPage).replace("{pages}",this.pager.getPages()).replace("{rows}",this.getDataCount()).replace("{rowsTotal}",this.getDataCountTotal());e.innerHTML=i}}_getPageStartIndex(){return(this.currentPage-1)*this.config.perPage}_getPageEndIndex(){let e=this.currentPage*this.config.perPage-1;return e>this.getDataCount()-1?this.getDataCount()-1:e}_getData(){return this._emit("getData",this.table.dataRows),this.table.dataRows.filter((function(e){return e.visible}))}_fetchData(){var e=this;let t={searchQuery:this.searchQuery,sortColumn:this.sortColumn,sortDirection:this.sortDirection,start:this._getPageStartIndex(),length:this.config.perPage,datatable:1};t=Object.assign({},this.config.ajaxParams,t);let i=this.config.ajax+"?"+this._queryParams(t);return fetch(i,{method:"GET",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return e._emit("fetchData",t),e.filteredDataCount=t.recordsFiltered,t.data})).then((function(e){let t=[];return e.forEach((function(e){t.push(Ce.createFromData(e))})),t})).catch((function(e){console.error(e)}))}_queryParams(e){return Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&")}getDataCount(){return this.isSearching?this.getDataCountFiltered():this.getDataCountTotal()}getDataCountFiltered(){return this.config.serverSide?this.filteredDataCount:this._getData().length}getDataCountTotal(){return this.config.serverSide?this.config.deferLoading:this.table.dataRows.length}getPageData(){if(this.config.serverSide)return this._fetchData();let e=this._getPageStartIndex();var t=this._getPageEndIndex();return Promise.resolve(this._getData()).then((function(i){return i.filter((function(i,s){return s>=e&&s<=t}))}))}search(e){var t=this;if(this.searchQuery=e.toLowerCase(),this.currentPage=1,this.isSearching=!0,!this.searchQuery.length)return this.table.dataRows.forEach((function(e){e.visible=!0})),this.isSearching=!1,t.wrapper.classList.remove("search-results"),t.update(),!1;this.config.serverSide||this.table.dataRows.forEach((function(e){e.visible=!1,t.searchQuery.split(" ").reduce((function(i,s){var a;let n=e.getCells();return n=n.filter((function(e,i){if(t.columnsNotSearchable.indexOf(i)<0)return!0})),a=n.some((function(e,t){if(e.getContent().toLowerCase().indexOf(s)>=0)return!0})),i&&a}),!0)&&(e.visible=!0)})),this.wrapper.classList.add("search-results"),this.update(),this._emit("search",e)}sort(e,t,i=!1){var s=this;if(this.sortColumn=e||0,this.sortDirection=t,this.sortColumn<0||this.sortColumn>this.table.getColumnCount()-1)return!1;var a=this.table.header.getCell(this.sortColumn),n=this.table.dataRows;this.table.header.getCells().forEach((function(e){e.removeClass("asc"),e.removeClass("desc")})),a.addClass(this.sortDirection),this.config.serverSide||(n=n.sort((function(e,t){var i=e.getCellContent(s.sortColumn).toLowerCase(),a=t.getCellContent(s.sortColumn).toLowerCase();return i=i.replace(/(\$|\,|\s|%)/g,""),a=a.replace(/(\$|\,|\s|%)/g,""),i=isNaN(i)||""===i?i:parseFloat(i),a=isNaN(a)||""===a?a:parseFloat(a),""===i&&""!==a?"asc"===s.sortDirection?1:-1:""!==i&&""===a?"asc"===s.sortDirection?-1:1:"asc"===s.sortDirection?i===a?0:i>a?1:-1:i===a?0:i<a?1:-1})),this.table.dataRows=n),this.config.serverSide&&i||this.update(),this._emit("sort",this.sortColumn,this.sortDirection)}paginate(e){this._emit("paginate",this.currentPage,e),this.currentPage=e,this.update()}_bindEvents(){var e=this;this.wrapper.addEventListener("click",(function(t){var i=t.target;if(i.hasAttribute("data-page")){t.preventDefault();let s=parseInt(i.getAttribute("data-page"),10);e.paginate(s)}if("TH"===i.nodeName&&i.hasAttribute("data-sortable")){if("false"===i.getAttribute("data-sortable"))return!1;t.preventDefault(),e.sort(i.cellIndex,i.classList.contains("asc")?"desc":"asc")}})),this.config.perPageSelect&&this.wrapper.addEventListener("change",(function(t){var i=t.target;if("SELECT"===i.nodeName&&i.classList.contains(e.config.classes.selector)){t.preventDefault();let s=parseInt(i.value,10);e._emit("perPageChange",e.config.perPage,s),e.config.perPage=s,e.update()}})),this.config.searchable&&this.wrapper.addEventListener("keyup",(function(t){"INPUT"===t.target.nodeName&&t.target.classList.contains(e.config.classes.input)&&(t.preventDefault(),e.search(t.target.value))}))}on(e,t){this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t)}off(e,t){this.events=this.events||{},e in this.events!=!1&&this.events[e].splice(this.events[e].indexOf(t),1)}_emit(e){if(this.events=this.events||{},e in this.events!=!1)for(var t=0;t<this.events[e].length;t++)this.events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}setMessage(e){var t=this.table.getColumnCount(),i=document.createElement("tr");i.innerHTML='<td class="'+this.config.classes.message+'" colspan="'+t+'">'+e+"</td>",this.table.body.innerHTML="",this.table.body.appendChild(i)}_buildColumns(){var e=this;let t=null,i=null;this.config.columns&&this.config.columns.forEach((function(s){isNaN(s.select)||(s.select=[s.select]),s.select.forEach((function(a){var n=e.table.header.getCell(a);if(s.hasOwnProperty("render")&&"function"==typeof s.render&&(e.columnRenderers[a]=s.render),s.hasOwnProperty("sortable")){let a=!1;n.hasSortable?a=n.isSortable:(a=s.sortable,n.setSortable(a)),a&&(n.addClass(e.config.classes.sorter),s.hasOwnProperty("sort")&&1===s.select.length&&(t=s.select[0],i=s.sort))}s.hasOwnProperty("searchable")&&(n.addAttribute("data-searchable",s.searchable),!1===s.searchable&&e.columnsNotSearchable.push(a))}))})),this.table.header.getCells().forEach((function(s,a){null===s.isSortable&&s.setSortable(e.config.sortable),s.isSortable&&(s.addClass(e.config.classes.sorter),s.hasSort&&(t=a,i=s.sortDirection))})),null!==t&&e.sort(t,i,!0)}}class xe{constructor(e){this.element=e,this.body=this.element.tBodies[0],this.head=this.element.tHead,this.rows=Array.from(this.element.rows).map((function(e){return new Ce(e,e.parentNode.nodeName)})),this.dataRows=this._getBodyRows(),this.header=this._getHeaderRow()}_getBodyRows(){return this.rows.filter((function(e){return!e.isHeader&&!e.isFooter}))}_getHeaderRow(){return this.rows.find((function(e){return e.isHeader}))}getColumnCount(){return this.header.getColumnCount()}getFooterRow(){return this.rows.find((function(e){return e.isFooter}))}}class Ce{constructor(e,t){this.cells=Array.from(e.cells).map((function(e){return new Le(e)})),this.d=this.cells.length,this.isHeader="THEAD"===t,this.isFooter="TFOOT"===t,this.visible=!0}getCells(){return Array.from(this.cells)}getColumnCount(){return this.cells.length}getCell(e){return this.cells[e]}getCellContent(e){return this.getCell(e).getContent()}static createFromData(e){let t=document.createElement("tr");return e.forEach((function(e){let i=document.createElement("td");i.innerHTML=e,t.appendChild(i)})),new Ce(t)}getFormated(e){let t=document.createElement("tr");var i=this;return this.getCells().forEach((function(s,a){var n=document.createElement("td");n.innerHTML=s.getElement().innerHTML,e.hasOwnProperty(a)&&(n.innerHTML=e[a].call(i,s.getElement(),a)),s.classes.length>0&&(n.className=s.classes.join(" "));for(let e in s.attributes)n.setAttribute(e,s.attributes[e]);t.appendChild(n)})),t}setCellContent(e,t){this.cells[e].setContent(t)}setCellClass(e,t){this.cells[e].addClass(t)}}class Le{constructor(e){this.content=e.textContent,this.className="",this.element=e,this.hasSortable=e.hasAttribute("data-sortable"),this.isSortable=this.hasSortable?"true"===e.getAttribute("data-sortable"):null,this.hasSort=e.hasAttribute("data-sort"),this.sortDirection=e.getAttribute("data-sort"),this.classes=[];var t=this;this.attributes={},[...e.attributes].forEach((function(e){t.attributes[e.name]=e.value}))}getElement(){return this.element}getContent(){return this.content}setContent(e){this.content=e}setClass(e){this.className=e}setSortable(e){this.isSortable=e}addClass(e){this.classes.push(e)}removeClass(e){this.classes.indexOf(e)>=0&&this.classes.splice(this.classes.indexOf(e),1)}addAttribute(e,t){this.attributes[e]=t}}class Ee{constructor(e){this.instance=e}getPages(){let e=Math.ceil(this.instance.getDataCount()/this.instance.config.perPage);return 0===e?1:e}render(){var e=this.instance.config;let t=this.getPages(),i=document.createElement("ul");if(t>1){let s=1===this.instance.currentPage?1:this.instance.currentPage-1,a=this.instance.currentPage===t?t:this.instance.currentPage+1;e.firstLast&&i.appendChild(this.createItem("pager",1,e.firstText)),e.nextPrev&&i.appendChild(this.createItem("pager",s,e.prevText)),this.truncate().forEach((function(e){i.appendChild(e)})),e.nextPrev&&i.appendChild(this.createItem("pager",a,e.nextText)),e.firstLast&&i.appendChild(this.createItem("pager",t,e.lastText))}return i}createItem(e,t,i,s){let a=document.createElement("li");return a.className=e,a.innerHTML=s?"<span>"+i+"</span>":'<a href="#" data-page="'+t+'">'+i+"</a>",a}isValidPage(e){return e>0&&e<=this.getPages()}truncate(){var e,t=this,i=t.instance.config,s=2*i.pagerDelta,a=t.instance.currentPage,n=a-i.pagerDelta,r=a+i.pagerDelta,o=this.getPages(),l=[],c=[];if(this.instance.config.truncatePager){a<4-i.pagerDelta+s?r=3+s:a>this.getPages()-(3-i.pagerDelta+s)&&(n=this.getPages()-(2+s));for(var d=1;d<=o;d++)(1===d||d===o||d>=n&&d<=r)&&l.push(d);l.forEach((function(s){e&&(s-e==2?c.push(t.createItem("",e+1,e+1)):s-e!=1&&c.push(t.createItem(i.classes.ellipsis,0,i.ellipsisText,!0))),c.push(t.createItem(s==a?"active":"",s,s)),e=s}))}else for(let e=1;e<=this.getPages();e++)c.push(this.createItem(e===a?"active":"",e,e));return c}}const Me={init:e=>(e=>{let t=document.createElement("div");t.className="asem-tooltip",t.innerHTML=e.getAttribute("alt"),e.append(t)})(e)};document.querySelectorAll(".select").forEach((t=>e.init(t))),((e,t)=>{let i=document.querySelector(e),s=document.querySelector(t);i&&s&&i.addEventListener("click",(()=>{i.classList.toggle("active"),s.type=i.classList.contains("active")?"text":"password"}),{passive:!0})})(".loginpass__eye","#loginpass"),(()=>{let e=document.body;document.querySelectorAll(".has-child .menu__link").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),e.parentNode.classList.toggle("expanded")}))}),{passive:!0});let t=document.querySelector(".sidebar--expand");t&&t.addEventListener("click",(()=>document.querySelector(".site--wrapper").classList.toggle("collapsed")));let i=localStorage.getItem("theme"),s=document.querySelector("#themeSwitcher");s&&i&&"dark"===i&&(e.classList.add("darktheme"),s.checked=!0),s&&s.addEventListener("change",(()=>{s.checked?(e.classList.add("darktheme"),localStorage.setItem("theme","dark")):(e.classList.remove("darktheme"),localStorage.setItem("theme","light"))}),{passive:!0})})(),(()=>{let e=document.querySelector(".list--header__view"),t=document.querySelector(".list__container");if(!t||!e)return;let i=e.querySelector(".list--header__list"),s=e.querySelector(".list--header__grid"),a=localStorage.getItem("orglist");if(a&&"grid"===a){t.classList.add("gridview");let i=e.querySelector(".active");i&&i.classList.remove("active"),s.classList.add("active")}e.addEventListener("click",(a=>{let n=a.target,r=e.querySelector(".active");r&&r.classList.remove("active"),i.contains(n)?(t.classList.remove("gridview"),i.classList.add("active"),localStorage.setItem("orglist","list")):s.contains(n)&&(t.classList.add("gridview"),s.classList.add("active"),localStorage.setItem("orglist","grid"))}),{passive:!0})})(),(()=>{const e=document.querySelector(".block-analysis--filters__range");e&&new De(e,{});let t=document.querySelector(".block-analysis--chart");if(!t)return;var i,s=echarts.init(t);(i={tooltip:{trigger:"axis",renderMode:"html",axisPointer:{type:"line"},className:"block-analysis--chart__tooltip",appendToBody:!0,formatter:e=>{let t="<strong>"+e[0].axisValueLabel+"</strong>";return e.forEach((e=>{let i="line"===e.seriesType?' class="emptyCircle"':"",s="line"===e.seriesType?e.borderColor:e.color;t+='<div><span style="color:'+s+'"'+i+"></span> "+e.seriesName+" — "+e.value+"</div>"})),t}},grid:{top:20,left:165,right:40,bottom:20,containLabel:!0,tooltip:{show:!0}},toolbox:{show:!0},legend:{show:!1},xAxis:[{type:"category",axisLine:{lineStyle:{color:"#c0c0c7"}},axisTick:{show:!1},data:["11-11-2021","12-11-2021","13-11-2021","14-11-2021","15-11-2021","16-11-2021","17-11-2021","18-11-2021","19-11-2021","20-11-2021","21-11-2021","22-11-2021","23-11-2021","24-11-2021"]}],yAxis:[{type:"value",position:"left",offset:110,boundaryGap:!1,name:"Потужність (МВт)",nameLocation:"middle",nameRotate:90,nameGap:0,nameTextStyle:{fontSize:10,fontWeight:300,color:"#c0c0c7",align:"center",verticalAlign:"bottom",padding:[0,0,8,10]},axisLine:{show:!0,lineStyle:{color:"#c0c0c7"}},axisLabel:{lineHeight:20,margin:-20,padding:0,formatter:e=>e/1e3},axisTick:{show:!1},splitLine:{show:!1}},{type:"value",position:"left",offset:55,boundaryGap:!1,name:"Електроенергія (Вт*год)",nameLocation:"middle",nameRotate:90,nameGap:0,nameTextStyle:{fontSize:10,fontWeight:300,color:"#c0c0c7",align:"center",verticalAlign:"bottom",padding:[0,0,8,10]},axisLine:{show:!0,lineStyle:{color:"#c0c0c7"}},axisLabel:{lineHeight:20,margin:-24,padding:0,formatter:e=>1e3*e},axisTick:{show:!1},splitLine:{show:!1}},{type:"value",position:"left",offset:0,boundaryGap:!1,name:"Теплова енергія (Гкал)",nameLocation:"middle",nameRotate:90,nameGap:0,nameTextStyle:{fontSize:10,fontWeight:300,color:"#c0c0c7",align:"center",verticalAlign:"bottom",padding:[0,0,8,10]},axisLine:{show:!0,lineStyle:{color:"#c0c0c7"}},axisLabel:{lineHeight:20,margin:-24,padding:0},axisTick:{show:!1},splitLine:{show:!1}},{type:"value",position:"right",offset:60,boundaryGap:!1,name:"Вода (м3)",nameLocation:"middle",nameRotate:90,nameGap:0,nameTextStyle:{fontSize:10,fontWeight:300,color:"#c0c0c7",align:"center",verticalAlign:"bottom",padding:[0,0,8,10]},axisLine:{show:!0,lineStyle:{color:"#c0c0c7"}},axisLabel:{lineHeight:20,margin:8,padding:0},axisTick:{show:!1},splitLine:{lineStyle:{color:"#c0c0c7",opacity:.5}}},{type:"value",position:"right",offset:0,boundaryGap:!1,name:"Технологічні температури (°C)",nameLocation:"middle",nameRotate:90,nameGap:0,nameTextStyle:{fontSize:10,fontWeight:300,color:"#c0c0c7",align:"center",verticalAlign:"bottom",padding:[0,0,8,10]},axisLine:{show:!0,lineStyle:{color:"#c0c0c7"}},axisLabel:{lineHeight:20,margin:8,padding:0},axisTick:{show:!1},splitLine:{show:!1}},{type:"value",name:"ГВП",show:!1},{type:"value",show:!1}],series:[{name:"p",type:"line",data:[.016,.015,.017,.019,.018,.016,.014,.015,.017,.018,.019,.019,.021,.026],yAxisIndex:1,smooth:!0,lineStyle:{normal:{color:"#fadf33",width:3}},itemStyle:{color:"#FFFFFF",borderWidth:3,borderColor:"#fadf33"},symbol:"circle",symbolSize:10,emphasis:{itemStyle:{color:"#fadf33",borderWidth:4,borderColor:"#FFFFFF",shadowColor:"rgba(0, 0, 0, 0.25)",shadowBlur:10,shadowOffsetY:4}}},{name:"Електроенергія",type:"bar",data:[3220,3080,3200,3360,3613,3723,4652,4100,3480,2538,3280,3300,3900,4100],barWidth:4,barMaxWidth:6,barMinWidth:2,barGap:"150%",itemStyle:{color:"#ff974a",borderRadius:[3,3,0,0]}},{name:"Теплова енергія",type:"bar",data:[3.22,3.28,3.2,3.56,2.9,3.03,4.6,.9,2.4,2.5,2.8,3.3,3.6,3.1],yAxisIndex:3,barWidth:6,barMaxWidth:4,barMinWidth:2,barGap:"150%",itemStyle:{color:"#679932",borderRadius:[3,3,0,0]}},{name:"Холодна вода",type:"bar",data:[13,16,19,31,29,33,26,29,24,25,18,33,36,31],yAxisIndex:2,barWidth:6,barMaxWidth:4,barMinWidth:2,barGap:"150%",itemStyle:{color:"#4694ff",borderRadius:[3,3,0,0]}},{name:"ГВП",type:"bar",yAxisIndex:2,data:[6,8,9,15,14,16,13,9,4,5,8,13,6,10],barWidth:6,barMaxWidth:4,barMinWidth:2,barGap:"150%",itemStyle:{color:"#ff4a7a",borderRadius:[3,3,0,0]}},{name:"T1",type:"line",data:[189,154,170,186,190,178,165,158,152,157,171,175,162,140],yAxisIndex:4,smooth:!0,lineStyle:{normal:{color:"#679932",width:3}},itemStyle:{color:"#FFFFFF",borderWidth:3,borderColor:"#679932"},symbol:"circle",symbolSize:10,emphasis:{itemStyle:{color:"#679932",borderWidth:4,borderColor:"#FFFFFF",shadowColor:"rgba(0, 0, 0, 0.25)",shadowBlur:10,shadowOffsetY:4}}},{name:"T2",type:"line",data:[53,46,49,59,78,52,49,52,48,53,52,46,47,49],yAxisIndex:4,smooth:!0,lineStyle:{normal:{color:"#8cd31a",width:3}},itemStyle:{color:"#FFFFFF",borderWidth:3,borderColor:"#8cd31a"},symbol:"circle",symbolSize:10,emphasis:{itemStyle:{color:"#8cd31a",borderWidth:4,borderColor:"#FFFFFF",shadowColor:"rgba(0, 0, 0, 0.25)",shadowBlur:10,shadowOffsetY:4}}}]})&&s.setOption(i);(()=>{let e=document.querySelector(".block-analysis--table__perpage .select");if(!e)return;let t=[];e.querySelectorAll(".select__opt").forEach((e=>t.push(e.dataset.value))),new Se("#analysis-table",{searchable:!1,perPageSelect:t});let i=document.querySelector(".dt-selector"),s=e.querySelector("input");s&&s.addEventListener("change",(e=>{i.value=s.value,i.dispatchEvent(new Event("change",{bubbles:!0}))}),{passive:!0})})()})(),(()=>{let e=document.querySelector("#contacts-table");e&&(e.querySelectorAll(".tooltip").forEach((e=>Me.init(e))),new Se(e,{searchable:!1,perPage:100}).on("init",(function(){console.log("init")})))})()}();
